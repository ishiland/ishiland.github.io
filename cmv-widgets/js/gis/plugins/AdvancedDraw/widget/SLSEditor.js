/*  ConfigurableMapViewerCMV
 *  version 2.0.0-beta.2
 *  Project: https://cmv.io/
 */

define(["dojo/_base/declare","dojo/_base/lang","./_SymEditorBase","./SymColorPicker","./StylePicker","./NumericSlider"],function(t,o,i,e,l,s){return t(i,{constructor:function(t){(t=t||{}).symbol||(t.symbol=this.advancedDrawConfig.defaultPolylineSymbol),o.mixin(this,t),this.initialized=!1,this.editorLabel=this.i18n.widgets.slsEditor.defaultEditorLabel,this.leftHandControlsLabel=this.i18n.widgets.slsEditor.leftHandControlsLabel,this._set("symbol",this.symbol)},postCreate:function(){this.inherited(arguments),this._initOutlineStylePicker(),this._initOutlineColorPicker(),this._initOutlineWidthSlider(),this.removeRightHandControls(),this.initialized=!0},_initOutlineStylePicker:function(){this.outlineStylePicker=new l({lineStyle:this.symbol.style,baseClass:"symbolEditorControl",label:this.i18n.widgets.symbolStylePicker.label,styleSet:"line"},this.createLeftHandControlsDiv()),this.outlineStylePicker.watch("style",o.hitch(this,function(){this._updateSymbolAtt()})),this.outlineStylePicker.startup()},_initOutlineColorPicker:function(){this.outlineColorPicker=new e({color:this.symbol.color,baseClass:"symbolEditorControl",buttonLabel:this.i18n.widgets.symbolColorPicker.buttonLabel,sliderLabel:this.i18n.widgets.symbolColorPicker.sliderLabel,colorPickerOptions:this.colorPickerOptions},this.createLeftHandControlsDiv()),this.outlineColorPicker.watch("color",o.hitch(this,function(){this._updateSymbolAtt()})),this.outlineColorPicker.startup()},_initOutlineWidthSlider:function(){this.outlineWidthSlider=new s({value:this.symbol.width,minimum:1,maximum:10,baseClass:"symbolEditorControl",label:this.i18n.widgets.symbolWidthPicker.label+" ("+this.symbol.width+")"},this.createLeftHandControlsDiv()),this.outlineWidthSlider.watch("value",o.hitch(this,function(){this.outlineWidthSlider.value=Math.round(10*this.outlineWidthSlider.value)/10,dojo.query("label",this.outlineWidthSlider.domNode)[0].innerHTML=this.i18n.widgets.symbolWidthPicker.label+" ("+this.symbol.width+")",this._updateSymbolAtt()})),this.outlineWidthSlider.startup()},_updateSymbolAtt:function(){if(this.initialized){var t=this._getSymbol();this._set("symbol",t)}},_getSymbol:function(){var t=o.clone(this.symbol),i=this.outlineStylePicker.get("style");t.style=i;var e=this.outlineColorPicker.get("color");t.color=e;var l=this.outlineWidthSlider.get("value");return t.width=l,t},_getSymbolAttr:function(){return this._getSymbol()},_setSymbolAttr:function(t){this.initialized&&(this.outlineColorPicker.set("color",t.color),this.outlineWidthSlider.set("value",t.width),this.outlineStylePicker.set("style",t.style)),this.symbol=t}})});
//# sourceMappingURL=SLSEditor.js.map