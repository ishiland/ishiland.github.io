{"version":3,"sources":["Dynamic.js"],"names":["define","declare","lang","array","aspect","topic","query","domConst","domAttr","registry","_WidgetBase","_TemplatedMixin","_Contained","MenuItem","MenuSeparator","_Control","DynamicSublayer","DynamicFolder","legendUtil","i18n","_layerType","_esriLayerType","_sublayerControls","_folderControls","_hasSublayers","_visLayersHandler","constructor","this","_layerTypePreInit","layer","layerInfos","length","controlOptions","sublayers","after","hitch","_layerTypeInit","isLegend","noLegend","controller","_expandClick","_createControls","dynamicSublayerLegend","expandNode","layerLegend","_expandRemove","_dynamicToggleMenuItems","menu","allSublayerToggles","addChild","label","dynamicSublayersOn","iconClass","onClick","dynamicSublayersOff","_initCustomMenu","forEach","subLayerMenu","layerMenu","_toggleAllSublayers","state","control","_setSublayerCheckbox","_setVisibleLayers","allLayers","map","l","id","ignoreDynamicGroupVisibility","_checkFolderVisibility","_createControl","info","sublayerInfo","filter","subLayerInfos","sli","shift","mixin","pid","parentLayerId","slids","subLayerIds","indexOf","_createDynamicSubLayer","_createDynamicFolder","controlId","parent","icons","byId","place","domNode","startup","push","_removeSublayerLegends","destroy","expandClickNode","remove","visibleLayers","allVisibleLayers","subLayer","_isVisible","folder","_hasAnyVisibleLayer","subLayers","_getSubLayerControls","currentLayer","oldLayer","checkParent","f","setVisibleLayers","refresh","publish","_onSetVisibleLayers","visLayers","noPublish","viz","_setFolderCheckbox"],"mappings":";;;;;AAAAA,OAAO,CACH,qBACA,kBACA,mBACA,cACA,aACA,aACA,qBACA,gBACA,iBACA,oBACA,wBACA,mBACA,iBACA,sBACA,aACA,qBACA,mBACA,0BACA,+BACD,SACCC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GA8QA,OA3QqBlB,EAAQ,CAACS,EAAaC,EAAiBC,EAAYG,GAAW,CAC/EK,WAAY,UACZC,eAAgB,UAChBC,kBAAmB,GACnBC,gBAAiB,GACjBC,eAAe,EACfC,kBAAmB,KACnBC,YAAa,WACTC,KAAKL,kBAAoB,GACzBK,KAAKJ,gBAAkB,IAE3BK,kBAAmB,WACoB,EAA/BD,KAAKE,MAAMC,WAAWC,QAAcJ,KAAKK,eAAeC,YAExDN,KAAKH,eAAgB,EACrBG,KAAKF,kBAAoBrB,EAAO8B,MAAMP,KAAKE,MAAO,mBAAoB3B,EAAKiC,MAAMR,KAAM,wBAAwB,KAIvHS,eAAgB,WACZ,IAAIC,EAAWnB,EAAWmB,SAASV,KAAKK,eAAeM,SAAUX,KAAKY,WAAWD,UAC7ED,IAA8C,IAAlCV,KAAKK,eAAeC,WAChCN,KAAKa,eACLb,KAAKc,gBAAgBd,KAAKE,OAC1BzB,EAAO8B,MAAMP,KAAM,kBAAmBzB,EAAKiC,MAAMR,KAAMT,EAAWwB,sBAAsBf,KAAKE,MAAOF,KAAKgB,gBAChE,IAAlChB,KAAKK,eAAeC,WAAuBI,GAClDV,KAAKa,eACLtB,EAAW0B,YAAYjB,KAAKE,MAAOF,KAAKgB,cACC,IAAlChB,KAAKK,eAAeC,WAAuBI,EAKlDV,KAAKkB,iBAJLlB,KAAKa,eACLpC,EAAO8B,MAAMP,KAAM,kBAAmBzB,EAAKiC,MAAMR,KAAM,2BACvDA,KAAKc,gBAAgBd,KAAKE,SAMlCiB,wBAAyB,SAAUC,GAC3BpB,KAAKH,gBAA4D,IAA3CG,KAAKK,eAAegB,qBAC1CD,EAAKE,SAAS,IAAIpC,EAAS,CACvBqC,MAAO/B,EAAKgC,mBACZC,UAAW,4BACXC,QAASnD,EAAKiC,MAAMR,KAAM,uBAAuB,MAErDoB,EAAKE,SAAS,IAAIpC,EAAS,CACvBqC,MAAO/B,EAAKmC,oBACZF,UAAW,sBACXC,QAASnD,EAAKiC,MAAMR,KAAM,uBAAuB,MAErDoB,EAAKE,SAAS,IAAInC,KAG1ByC,gBAAiB,WAER5B,KAAKH,gBACNrB,EAAMqD,QAAQ7B,KAAKK,eAAeyB,aAAcvD,EAAKiC,MAAMR,KAAM,qBAAsBA,KAAK+B,YAC5F/B,KAAK+B,UAAUT,SAAS,IAAInC,KAIpC6C,oBAAqB,SAAUC,GAC3BzD,EAAMqD,QAAQ7B,KAAKL,kBAAmB,SAAUuC,GAC5CA,EAAQC,qBAAqBF,KAEjCjC,KAAKoC,qBAGTtB,gBAAiB,SAAUZ,GAEvB,GAA8B,EAA1BA,EAAMC,WAAWC,OAAY,CAC7B,IAAIiC,EAAY7D,EAAM8D,IAAIpC,EAAMC,WAAY,SAAUoC,GAClD,OAAOA,EAAEC,KAEbhE,EAAMqD,QAAQ3B,EAAMC,WAAY5B,EAAKiC,MAAMR,KAAM,iBAAkBE,EAAOmC,IACtErC,KAAKK,eAAeoC,8BACpBjE,EAAMqD,QAAQ7B,KAAKJ,gBAAiB,SAAUsC,GAC1CA,EAAQQ,6BAMxBC,eAAgB,SAAUzC,EAAOmC,EAAWO,GAExC,IAAIC,EAAerE,EAAMsE,OAAO9C,KAAKK,eAAe0C,cAAe,SAAUC,GACzE,OAAOA,EAAIR,KAAOI,EAAKJ,KACxBS,QACH1E,EAAK2E,MAAMN,EAAMC,GACjB,IAAIM,EAAMP,EAAKQ,cACXC,EAAQT,EAAKU,aAGJ,IAATH,IAA0C,IAA5Bd,EAAUkB,QAAQJ,GAClB,OAAVE,EAEArD,KAAKwD,uBAAuBZ,EAAM1C,GACjB,OAAVmD,GAEPrD,KAAKyD,qBAAqBb,EAAM1C,IAGpB,IAATiD,GAAwB,OAAVE,EAErBrD,KAAKyD,qBAAqBb,EAAM1C,IAChB,IAATiD,GAAwB,OAAVE,GAErBrD,KAAKwD,uBAAuBZ,EAAM1C,IAI1CsD,uBAAwB,SAAUZ,EAAM1C,GACpC,IAAIwD,EAAYxD,EAAMsC,GAAK,IAAMI,EAAKJ,GAAK,oBACvCW,EAAMP,EAAKQ,cACXO,EAAS,KACTzB,EAAU,IAAI7C,EAAgB,CAC1BmD,GAAIkB,EACJxB,QAASlC,KACT6C,aAAcD,EACdgB,MAAO5D,KAAK4D,SAIhBD,GADS,IAATR,EACSnD,KAAKgB,WAELlC,EAAS+E,KAAK3D,EAAMsC,GAAK,IAAMW,EAAM,qBAAqBnC,cAInEpC,EAASkF,MAAM5B,EAAQ6B,QAASJ,EAAQ,QACxCzB,EAAQ8B,UACRhE,KAAKL,kBAAkBsE,KAAK/B,KAKpCuB,qBAAsB,SAAUb,EAAM1C,GAClC,IAAIwD,EAAYxD,EAAMsC,GAAK,IAAMI,EAAKJ,GAAK,oBACvCW,EAAMP,EAAKQ,cACXO,EAAS,KACTzB,EAAU,IAAI5C,EAAc,CACxBkD,GAAIkB,EACJxB,QAASlC,KACT6C,aAAcD,EACdgB,MAAO5D,KAAK4D,SAIhBD,GADS,IAATR,EACSnD,KAAKgB,WAELlC,EAAS+E,KAAK3D,EAAMsC,GAAK,IAAMW,EAAM,qBAAqBnC,cAInEpC,EAASkF,MAAM5B,EAAQ6B,QAASJ,EAAQ,QACxCzB,EAAQ8B,UACRhE,KAAKJ,gBAAgBqE,KAAK/B,KAKlCgC,uBAAwB,WACpB1F,EAAMqD,QAAQ7B,KAAKL,kBAAmB,SAAUuC,GACvCA,EAAQW,aAAaS,aACtB1E,EAASuF,QAAQjC,EAAQkC,oBAKrChC,kBAAmB,WAEfpC,KAAKF,kBAAkBuE,SACvB,IAAInE,EAAQF,KAAKE,MACboE,EAAgB,GAChBC,EAAmB,GACnB9B,EAA+BzC,KAAKK,eAAeoC,6BAGvDjE,EAAMqD,QAAQ7B,KAAKL,kBAAmB,SAAU6E,GACxCA,EAASC,eAA4C,IAA5BD,EAASpB,gBAClCkB,EAAcL,KAAKO,EAAS3B,aAAaL,IACzC+B,EAAiBN,KAAKO,EAAS3B,aAAaL,OAKpDhE,EAAMqD,QAAQ7B,KAAKJ,gBAAiBrB,EAAKiC,MAAMR,KAAM,SAAU0E,IACvDA,EAAOD,cAAiBhC,GAAgCiC,EAAOC,wBAC/DJ,EAAiBN,KAAKS,EAAO7B,aAAaL,OAKlDhE,EAAMqD,QAAQ7B,KAAKJ,gBAAiBrB,EAAKiC,MAAMR,KAAM,SAAU0E,GAC3D,IAAIE,EAAYF,EAAOG,uBACvBrG,EAAMqD,QAAQ+C,EAAWrG,EAAKiC,MAAMR,KAAM,SAAUwE,GAChD,GAAIA,EAASC,eACTF,EAAiBN,KAAKO,EAAS3B,aAAaL,IACxCC,GACA6B,EAAcL,KAAKO,EAAS3B,aAAaL,QAHjD,CAcA,IAPA,IAAIsC,EAAeN,EACfO,EAAW,KAMRD,EAAaL,eAA6D,IAA7CK,EAAajC,aAAaO,eAAwB2B,IAAaD,GAC/FC,EAAWD,EACXtG,EAAMqD,QAAQ7B,KAAKJ,gBAAiBoF,GAEpCF,EAAaL,cACbH,EAAcL,KAAKO,EAAS3B,aAAaL,IAV7C,SAASwC,EAAaC,GACdA,EAAEpC,aAAaL,KAAOsC,EAAajC,aAAaO,gBAChD0B,EAAeG,UAa1BX,EAAclE,QACfkE,EAAcL,MAAM,GAEpBxB,GACAjE,EAAMqD,QAAQ7B,KAAKJ,gBAAiB,SAAUsC,GAC1CA,EAAQQ,2BAIhBxC,EAAMgF,iBAAiBZ,GACvBpE,EAAMiF,UAENzG,EAAM0G,QAAQ,gCAAiC,CAC3C5C,GAAItC,EAAMsC,GACV8B,cAAeA,IAGnB5F,EAAM0G,QAAQ,mCAAoC,CAC9C5C,GAAItC,EAAMsC,GACV+B,iBAAkBA,IAItBvE,KAAKF,kBAAoBrB,EAAO8B,MAAMP,KAAKE,MAAO,mBAAoB3B,EAAKiC,MAAMR,KAAM,wBAAwB,IAEnHqF,oBAAqB,SAAUC,EAAWC,GAEtC/G,EAAMqD,QAAQ7B,KAAKL,kBAAmB,SAAUuC,GAC5C,IAAIsD,GAA8D,IAAvDhH,EAAM+E,QAAQ+B,EAAWpD,EAAQW,aAAaL,IACzDN,EAAQC,qBAAqBqD,EAAK,KAAMD,KAK5C/G,EAAMqD,QAAQ7B,KAAKJ,gBAAiB,SAAUsC,GAC1C,IAAIsD,GAA8D,IAAvDhH,EAAM+E,QAAQ+B,EAAWpD,EAAQW,aAAaL,IACzDN,EAAQuD,mBAAmBD,EAAK,KAAMD,KAGtCvF,KAAKK,eAAeoC,8BAGpBjE,EAAMqD,QAAQ7B,KAAKJ,gBAAiB,SAAUsC,GAC1CA,EAAQQ","file":"Dynamic.js"}