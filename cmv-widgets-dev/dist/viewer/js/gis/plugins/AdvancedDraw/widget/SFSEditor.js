/*  ConfigurableMapViewerCMV
 *  version 2.0.0-beta.2
 *  Project: https://cmv.io/
 */

define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","./_SymEditorBase","./SymColorPicker","./StylePicker","./NumericSlider"],function(t,r,l,i,e,o,s){return t(i,{constructor:function(t){(t=t||{}).symbol||(t.symbol=this.advancedDrawConfig.defaultPolygonSymbol),r.mixin(this,t),this.initialized=!1,this.editorLabel=this.i18n.widgets.sfsEditor.defaultEditorLabel,this.leftHandControlsLabel=this.i18n.widgets.sfsEditor.leftHandControlsLabel,this.rightHandControlsLabel=this.i18n.widgets.sfsEditor.rightHandControlsLabel,this._set("symbol",this.symbol)},postCreate:function(){this.inherited(arguments),this._initFillStylePicker(),this._initFillColorPicker(),this._initOutlineStylePicker(),this._initOutlineColorPicker(),this._initOutlineWidthSlider(),this.initialized=!0},_initFillStylePicker:function(){this.fillStylePicker=new o({fillStyle:this.symbol.style,baseClass:"symbolEditorControl",label:this.i18n.widgets.symbolStylePicker.label,styleSet:"fill"},this.createLeftHandControlsDiv()),this.fillStylePicker.watch("style",r.hitch(this,function(){this._updateSymbolAtt(),this._symbolStyleHasFill(arguments[2])?this._toggleSymbolColorControl(!0):this._toggleSymbolColorControl(!1)})),this.fillStylePicker.startup()},_toggleSymbolColorControl:function(t){var i=t?"block":"none";l.set(this.fillColorPicker.domNode,"display",i)},_symbolStyleHasFill:function(t){return"esriSFSSolid"===t},_initFillColorPicker:function(){this.fillColorPicker=new e({color:this.symbol.color,baseClass:"symbolEditorControl",buttonLabel:this.i18n.widgets.symbolColorPicker.buttonLabel,sliderLabel:this.i18n.widgets.symbolColorPicker.sliderLabel,colorPickerOptions:this.colorPickerOptions},this.createLeftHandControlsDiv()),this.fillColorPicker.watch("color",r.hitch(this,function(){this._updateSymbolAtt()})),this.fillColorPicker.startup()},_initOutlineStylePicker:function(){this.outlineStylePicker=new o({lineStyle:this.symbol.outline.style,baseClass:"symbolEditorControl",label:this.i18n.widgets.symbolStylePicker.label,styleSet:"line"},this.createRightHandControlsDiv()),this.outlineStylePicker.watch("style",r.hitch(this,function(){this._updateSymbolAtt()})),this.outlineStylePicker.startup()},_initOutlineColorPicker:function(){this.outlineColorPicker=new e({color:this.symbol.outline.color,baseClass:"symbolEditorControl",buttonLabel:this.i18n.widgets.symbolColorPicker.buttonLabel,sliderLabel:this.i18n.widgets.symbolColorPicker.sliderLabel,colorPickerOptions:this.colorPickerOptions},this.createRightHandControlsDiv()),this.outlineColorPicker.watch("color",r.hitch(this,function(){this._updateSymbolAtt()})),this.outlineColorPicker.startup()},_initOutlineWidthSlider:function(){this.outlineWidthSlider=new s({value:this.symbol.outline.width,minimum:1,maximum:10,baseClass:"symbolEditorControl",label:this.i18n.widgets.symbolWidthPicker.label+" ("+this.symbol.outline.width+")"},this.createRightHandControlsDiv()),this.outlineWidthSlider.watch("value",r.hitch(this,function(){this.outlineWidthSlider.value=Math.round(10*this.outlineWidthSlider.value)/10,dojo.query("label",this.outlineWidthSlider.domNode)[0].innerHTML=this.i18n.widgets.symbolWidthPicker.label+" ("+this.outlineWidthSlider.value+")",this._updateSymbolAtt()})),this.outlineWidthSlider.startup()},_updateSymbolAtt:function(){if(this.initialized){var t=this._getSymbol();this._set("symbol",t)}},_getSymbol:function(){var t=r.clone(this.symbol),i=this.fillStylePicker.get("style");t.style=i;var l=this.fillColorPicker.get("color");t.color=l;var e=this.outlineStylePicker.get("style");t.outline.style=e;var o=this.outlineColorPicker.get("color");t.outline.color=o;var s=this.outlineWidthSlider.get("value");return t.outline.width=s,t},_getSymbolAttr:function(){return this._getSymbol()},_setSymbolAttr:function(t){this.initialized&&(this.fillColorPicker.set("color",t.color),this.fillStylePicker.set("style",t.style),this.outlineColorPicker.set("color",t.outline.color),this.outlineWidthSlider.set("value",t.outline.width),this.outlineStylePicker.set("style",t.outline.style)),this.symbol=t}})});
//# sourceMappingURL=SFSEditor.js.map