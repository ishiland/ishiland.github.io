{"version":3,"sources":["Dynamic.js"],"names":["define","declare","lang","array","aspect","topic","query","domConst","domAttr","registry","_WidgetBase","_TemplatedMixin","_Contained","MenuItem","MenuSeparator","_Control","DynamicSublayer","DynamicFolder","legendUtil","i18n","_layerType","_esriLayerType","_hasSublayers","_visLayersHandler","constructor","this","_sublayerControls","_layerTypePreInit","layer","layerInfos","length","controlOptions","sublayers","after","hitch","_layerTypeInit","isLegend","noLegend","controller","_expandClick","_createSublayers","dynamicSublayerLegend","expandNode","layerLegend","_expandRemove","_dynamicToggleMenuItems","menu","allSublayerToggles","addChild","label","dynamicSublayersOn","onClick","dynamicSublayersOff","_initCustomMenu","forEach","subLayerMenu","layerMenu","_toggleAllSublayers","state","control","_setSublayerCheckbox","_setVisibleLayers","allLayers","map","l","id","info","sublayerInfo","filter","subLayerInfos","sli","shift","mixin","pid","parentLayerId","slids","subLayerIds","controlId","indexOf","icons","place","domNode","byId","startup","push","_removeSublayerLegends","destroy","expandClickNode","remove","setLayers","i","get","parseInt","sub","splice","setVisibleLayers","refresh","publish","visibleLayers","_onSetVisibleLayers","visLayers","visibleIds"],"mappings":"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","file":"Dynamic.js"}