{"version":3,"sources":["StreetView.js"],"names":["define","declare","_WidgetBase","_TemplatedMixin","_WidgetsInTemplateMixin","lang","aspect","topic","GraphicsLayer","Graphic","SimpleRenderer","template","PictureMarkerSymbol","domStyle","domGeom","Point","SpatialReference","MenuItem","proj4","i18n","Google","google","widgetsInTemplate","templateString","mapClickMode","panoOptions","proj4BaseURL","proj4Catalog","proj4CustomURL","postCreate","this","inherited","arguments","load","hitch","g","addressControlOptions","position","maps","ControlPosition","TOP_RIGHT","linksControl","panControl","zoomControlOptions","style","ZoomControlStyle","SMALL","enableCloseButton","createGraphicsLayer","map","on","own","subscribe","parentWidget","toggleable","after","onLayoutChange","open","id","window","mapRightClickMenu","addRightClickMenu","pointSymbol","require","toUrl","pointGraphics","title","pointRenderer","label","description","setRenderer","addLayer","evt","mapRightClickPoint","mapPoint","addChild","rightClickMenuItem","onClick","onOpen","show","panorama","panoramaService","StreetViewPanorama","panoNode","StreetViewService","onClose","hide","connectMapClick","placePoint","streetViewButtonDijit","get","disconnectMapClick","set","setMapCursor","publish","clearGraphics","clear","noStreetViewResults","enableStreetViewClick","disableStreetViewClick","getStreetView","overRide","toggle","geometry","wkid","spatialReference","key","String","defs","url","projPoint","inverse","x","y","streetViewInstructions","getPanoramaLocation","setPanoPlace","geoPoint","place","LatLng","getPanoramaByLocation","event","addListener","getPanoramaByLocationComplete","StreetViewPanoramaData","StreetViewStatus","firstSet","setPosition","source","error","resize","options","h","setContentSize","containerNode","trigger","setPlaceMarkerPosition","placeMarker","graphics","length","add","panoPosition","getPosition","positionLat","lat","positionLong","lng","isNaN","xy","forward","point","setGeometry","heading","spherical","computeHeading","setPov","pitch","setTimeout","setPlaceMarkerRotation","pov","getPov","setAngle","refresh","streetViewFromMapRightClick","setMapClickMode","mode"],"mappings":";;;;;AAAAA,QACI,qBACA,oBACA,wBACA,gCACA,kBACA,cACA,aACA,4BACA,eACA,gCACA,mDACA,mCACA,iBACA,oBACA,sBACA,wBACA,iBACA,gBACA,sCACA,qBACA,0BACA,8CACD,SAAUC,EAASC,EAAaC,EAAiBC,EAAyBC,EAAMC,EAAQC,EAAOC,EAAeC,EAASC,EAAgBC,EAAUC,EAAqBC,EAAUC,EAASC,EAAOC,EAAkBC,EAAUC,EAAOC,EAAMC,GAExO,IAAIC,EACJ,OAAOpB,GAASC,EAAaC,EAAiBC,IAC1CkB,mBAAmB,EACnBC,eAAgBZ,EAChBQ,KAAMA,EACNK,aAAc,KAEdC,YAAa,KAGbC,aAAc,mBAIdC,aAAc,OAKdC,eAAgB,KAEhBC,WAAY,WACRC,KAAKC,UAAUC,WAEfZ,EAAOa,KAAK5B,EAAK6B,MAAMJ,KAAM,SAAUK,GAEnCd,EAASc,EAGTL,KAAKL,aACDW,uBACIC,SAAUhB,EAAOiB,KAAKC,gBAAgBC,WAE1CC,cAAc,EACdC,YAAY,EACZC,oBACIC,MAAOvB,EAAOiB,KAAKO,iBAAiBC,OAExCC,mBAAmB,GAEvBjB,KAAKkB,sBACLlB,KAAKmB,IAAIC,GAAG,QAAS7C,EAAK6B,MAAMJ,KAAM,kBAEtCA,KAAKqB,IAAI5C,EAAM6C,UAAU,0BAA2B/C,EAAK6B,MAAMJ,KAAM,qBAEjEA,KAAKuB,eACDvB,KAAKuB,aAAaC,aAClBxB,KAAKqB,IAAI7C,EAAOiD,MAAMzB,KAAKuB,aAAc,SAAUhD,EAAK6B,MAAMJ,KAAM,WAChEA,KAAK0B,eAAe1B,KAAKuB,aAAaI,UAK1C3B,KAAK0B,eAAe1B,KAAKuB,aAAaI,OAE1C3B,KAAKqB,IAAI7C,EAAOiD,MAAMzB,KAAKuB,aAAc,SAAUhD,EAAK6B,MAAMJ,KAAM,YACpEA,KAAKqB,IAAI5C,EAAM6C,UAAUtB,KAAKuB,aAAaK,GAAK,iBAAkBrD,EAAK6B,MAAMJ,KAAM,aAGlF6B,OAAOzC,QACRyC,OAAOzC,MAAQA,GAGfY,KAAK8B,mBACL9B,KAAK+B,wBAIjBb,oBAAqB,WACjBlB,KAAKgC,YAAc,IAAIlD,EAAoBmD,QAAQC,MAAM,6CAA8C,GAAI,IAC3GlC,KAAKmC,cAAgB,IAAIzD,GACrBkD,GAAI,sBACJQ,MAAO,gBAEXpC,KAAKqC,cAAgB,IAAIzD,EAAeoB,KAAKgC,aAC7ChC,KAAKqC,cAAcC,MAAQ,cAC3BtC,KAAKqC,cAAcE,YAAc,cACjCvC,KAAKmC,cAAcK,YAAYxC,KAAKqC,eACpCrC,KAAKmB,IAAIsB,SAASzC,KAAKmC,gBAE3BJ,kBAAmB,WACf/B,KAAKmB,IAAIC,GAAG,YAAa7C,EAAK6B,MAAMJ,KAAM,SAAU0C,GAChD1C,KAAK2C,mBAAqBD,EAAIE,YAElC5C,KAAK8B,kBAAkBe,SAAS,IAAI1D,GAChCmD,MAAOtC,KAAKX,KAAKyD,mBAAmBR,MACpCS,QAASxE,EAAK6B,MAAMJ,KAAM,mCAGlCgD,OAAQ,WACJhD,KAAKmC,cAAcc,OACdjD,KAAKkD,UAAalD,KAAKmD,kBACxBnD,KAAKkD,SAAW,IAAI3D,EAAOiB,KAAK4C,mBAAmBpD,KAAKqD,SAAUrD,KAAKL,aACvEK,KAAKmD,gBAAkB,IAAI5D,EAAOiB,KAAK8C,oBAG/CC,QAAS,WAELvD,KAAKmC,cAAcqB,OACO,eAAtBxD,KAAKN,cACLM,KAAKyD,mBAGb/B,eAAgB,SAAUC,GAClBA,EACA3B,KAAKgD,SAELhD,KAAKuD,WAGbG,WAAY,WACJ1D,KAAK2D,sBAAsBC,IAAI,WAC/B5D,KAAK6D,qBAEL7D,KAAKyD,mBAIbI,mBAAoB,WAChB7D,KAAK2D,sBAAsBG,IAAI,WAAW,GAC1C9D,KAAKmB,IAAI4C,aAAa,aACtBtF,EAAMuF,QAAQ,0BAA2B,eAE7CP,gBAAiB,WACbzD,KAAK2D,sBAAsBG,IAAI,WAAW,GAC1C9D,KAAKmB,IAAI4C,aAAa,QACtBtF,EAAMuF,QAAQ,4BAElBC,cAAe,WACXjE,KAAKmC,cAAc+B,QACnBnF,EAAS+E,IAAI9D,KAAKmE,oBAAqB,UAAW,UAEtDC,sBAAuB,WACnBpE,KAAK6D,sBAETQ,uBAAwB,WACpBrE,KAAKyD,mBAETa,cAAe,SAAU5B,EAAK6B,GAC1B,GAA0B,eAAtBvE,KAAKN,cAAiC6E,EAAU,CAChD,IAAI3B,EAAWF,EAAIE,SACnB,IAAKA,EACD,OAGA5C,KAAKuB,eAAiBvB,KAAKuB,aAAaI,MACxC3B,KAAKuB,aAAaiD,SAItB,IAAIC,EAAW,KACXC,EAAO9B,EAAS+B,iBAAiBD,KACxB,SAATA,IACAA,EAAO,MAEX,IAAIE,EAAM5E,KAAKH,aAAe,IAAMgF,OAAOH,GAC3C,IAAKtF,EAAM0F,KAAKF,GAAM,CAClB,IAAIG,EAAM/E,KAAKF,gBAAkBE,KAAKJ,aAAeiF,OAAOH,GAAQ,MAEpE,YADAzC,SAAS8C,GAAMxG,EAAK6B,MAAMJ,KAAM,gBAAiB0C,GAAK,IAK1D,IAAIsC,EAAY5F,EAAMA,EAAM0F,KAAKF,IAAMK,SAASrC,EAASsC,EAAGtC,EAASuC,IACjEH,IACAP,GACIS,EAAGF,EAAU,GACbG,EAAGH,EAAU,KAIrBjG,EAAS+E,IAAI9D,KAAKoF,uBAAwB,UAAW,QACjDX,GACA1F,EAAS+E,IAAI9D,KAAKmE,oBAAqB,UAAW,QAClDnE,KAAKqF,oBAAoBZ,KAEzBzE,KAAKsF,aAAe,KACpBtF,KAAKiE,gBACLlF,EAAS+E,IAAI9D,KAAKmE,oBAAqB,UAAW,YAK9DkB,oBAAqB,SAAUE,GAC3B,IAAIC,EAAQ,IAAIjG,EAAOiB,KAAKiF,OAAOF,EAASJ,EAAGI,EAASL,GACxDlF,KAAKmD,gBAAgBuC,sBAAsBF,EAAO,GAAIjH,EAAK6B,MAAMJ,KAAM,gCAAiCuF,IAExGhG,EAAOiB,KAAKmF,MAAMC,YAAY5F,KAAKkD,SAAU,mBAAoB3E,EAAK6B,MAAMJ,KAAM,2BAElFT,EAAOiB,KAAKmF,MAAMC,YAAY5F,KAAKkD,SAAU,cAAe3E,EAAK6B,MAAMJ,KAAM,4BAEjF6F,8BAA+B,SAAUN,EAAUO,EAAwBC,GACvE,GAAyB,OAArBA,EAA2B,CAC3B/F,KAAKqE,yBACL,IAAImB,EAAQ,IAAIjG,EAAOiB,KAAKiF,OAAOF,EAASJ,EAAGI,EAASL,GACxDlF,KAAKsF,aAAeE,EACpBxF,KAAKgG,UAAW,EAChBhG,KAAKkD,SAAS+C,YAAYT,OACE,iBAArBO,GACP/F,KAAKsF,aAAe,KACpBtF,KAAKiE,gBAELjE,KAAKyD,kBACL1E,EAAS+E,IAAI9D,KAAKmE,oBAAqB,UAAW,WAElDnE,KAAKsF,aAAe,KACpBtF,KAAKiE,gBACLxF,EAAMuF,QAAQ,sBACVkC,OAAQ,aACRC,MAAO,eAInBC,OAAQ,SAAUC,GACVA,GAAWA,EAAQC,GACnBtH,EAAQuH,eAAevG,KAAKwG,eACxBF,EAAID,EAAQC,EAAI,IAGpBtG,KAAKkD,UACL3D,EAAOiB,KAAKmF,MAAMc,QAAQzG,KAAKkD,SAAU,WAGjDwD,uBAAwB,WACf1G,KAAK2G,aAAsD,IAAvC3G,KAAKmC,cAAcyE,SAASC,SACjD7G,KAAK2G,YAAc,IAAIhI,EAEvBqB,KAAKmC,cAAc2E,IAAI9G,KAAK2G,cAGhC,IAAII,EAAe/G,KAAKkD,SAAS8D,cAC7BC,EAAcF,EAAaG,MAC3BC,EAAeJ,EAAaK,MAEhC,IAAKC,MAAMJ,KAAiBI,MAAMF,GAAe,CAE7C,IAAIG,EAAK,KACL5C,EAAO1E,KAAKmB,IAAIwD,iBAAiBD,KACxB,SAATA,IACAA,EAAO,MAEX,IAAIE,EAAM5E,KAAKH,aAAe,IAAMgF,OAAOH,GAC3C,IAAKtF,EAAM0F,KAAKF,GAAM,CAClB,IAAIG,EAAM/E,KAAKF,gBAAkBE,KAAKJ,aAAeiF,OAAOH,GAAQ,MAEpE,YADAzC,SAAS8C,GAAMxG,EAAK6B,MAAMJ,KAAM,2BAMpC,GADAsH,EAAKlI,EAAMA,EAAM0F,KAAKF,IAAM2C,SAASJ,EAAcF,IAC3C,CACJ,IAAIO,EAAQ,IAAIvI,EAAMqI,EAAI,IAAIpI,GAC1BwF,KAAMA,KAKV,GADA1E,KAAK2G,YAAYc,YAAYD,GACzBxH,KAAKsF,eAAiBtF,KAAKgG,SAAU,CACrC,IAAI0B,EAAUnI,EAAOiB,KAAKiE,SAASkD,UAAUC,eAAeb,EAAc/G,KAAKsF,cAC/EtF,KAAKkD,SAAS2E,QACVH,QAASA,EACTI,MAAO,IAEXC,WAAWxJ,EAAK6B,MAAMJ,KAAM,WACxBA,KAAKsF,aAAe,OACpB,UAEJtF,KAAKgG,UAAW,KAKhCgC,uBAAwB,WACpB,GAAIhI,KAAK2G,YAAa,CAClB,IAAIsB,EAAMjI,KAAKkD,SAASgF,SACxBlI,KAAKgC,YAAYmG,SAASF,EAAIP,SAC9B1H,KAAKmC,cAAciG,YAG3BC,4BAA6B,WACzB,IAAI3F,GACAE,SAAU5C,KAAK2C,oBAEnB3C,KAAKsE,cAAc5B,GAAK,IAE5B4F,gBAAiB,SAAUC,GACvBvI,KAAKN,aAAe6I","file":"StreetView.js"}